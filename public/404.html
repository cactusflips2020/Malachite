<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title is="chemical-title" data-title-store>Malachite</title>
		<link rel="icon" is="chemical-icon" data-icon-store href="img/favicon.ico">
		<link rel="stylesheet" href="css/index.css">
		<script src="/chemical.js"></script>
		<script src="/chemical.components.js"></script>
		<script src="/chemical.cloaking.js"></script>
		<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
		<style>
			body {
				display: flex;
				flex-direction: column;
				justify-content: flex-start;
				align-items: center;
				height: 100vh;
				text-align: center;
				margin: 0;
				padding: 0;
			}

			.error-content {
				display: flex;
				flex-direction: column;
				align-items: center;
				justify-content: center;
				flex: 1;
				padding: 40px 20px;
				max-width: 600px;
				width: 100%;
			}

			.error-icon {
				font-size: 6rem;
				margin-bottom: 20px;
				opacity: 0.7;
			}

			.error-code {
				font-size: 4rem;
				font-weight: 700;
				margin: 0 0 10px 0;
			}

			.error-title {
				font-size: 2rem;
				font-weight: 600;
				margin: 0 0 20px 0;
			}

			.error-message {
				font-size: 1.1rem;
				line-height: 1.6;
				margin: 0 0 40px 0;
				max-width: 500px;
			}

			.home-button {
				width: auto;
				padding: 15px 35px;
				border: none;
				border-radius: 8px;
				font-size: 16px;
				font-weight: 500;
				cursor: pointer;
				text-decoration: none;
				display: inline-block;
				transition: all 0.4s ease;
				font-family: 'Montserrat', sans-serif;
				background: #384438;
			}

			.home-button:hover {
				filter: brightness(1.2);
				transform: scale(1.01);
			}

			.home-button:focus {
				outline: none;
				border: 2px solid #b2c2a8;
				box-shadow: 0 0 10px rgba(178, 194, 168, 0.3);
			}

			/* Theme-specific styling for home button */
			body.theme-moss .home-button {
				background: #384438;
				color: #b2c2a8;
			}

			body.theme-midnight .home-button {
				background: #151a22;
				color: #b8c7e0;
				border: 1.5px solid #2a3442;
			}

			body.theme-rose .home-button {
				background: #3a232b;
				color: #e0b8c7;
			}

			body.theme-noir .home-button {
				background: #111;
				color: #e0e0e0;
				border: 1.5px solid #444;
			}


		</style>
		<script>
			// Check login status and redirect if not logged in
			window.addEventListener('DOMContentLoaded', function() {
				const isLoggedIn = localStorage.getItem('isLoggedIn');
				if (!isLoggedIn || isLoggedIn !== 'true') {
					window.location.href = '/404-login.html';
				} else {
					// Check if user has a name set
					const userName = localStorage.getItem('userName');
					if (!userName) {
						window.location.href = '/index.html';
					}
				}
			});
		</script>
	</head>
	<body>
		<div class="navbar">
			<div class="logo-container">
				<a href="index.html">
				<svg class="svg-logo" xmlns="http://www.w3.org/2000/svg" width="100" height="85" viewBox="0 0 300 255" preserveAspectRatio="xMidYMid meet">
					<g transform="translate(0,255) scale(0.1,-0.1)" fill="currentColor" stroke="none">
						<path d="M391 1923 c-200 -344 -365 -633 -367 -642 -2 -9 161 -299 364 -646 l367 -630 747 -3 746 -2 363 622 c199 343 366 630 372 638 6 11 -85 177 -361 650 l-370 635 -749 2 -748 2 -364 -626z m2008 -130 c162 -278 294 -511 294 -517 0 -6 -132 -240 -294 -518 l-294 -507 -601 -1 -600 0 -297 509 c-163 281 -297 513 -297 517 0 3 133 235 296 515 l297 509 601 0 601 0 294 -507z"/>
					</g>
				</svg>
				</a>
				<a href="index.html">Malachite</a>
			</div>
			<div class="nav-links">
				<a href="games.html">
					<i class="fa-solid fa-gamepad"></i> Games
				</a>
				<a href="apps.html">
					<i class="fa-solid fa-border-all"></i> Apps
				</a>
				<a href="settings.html">
					<i class="fa-solid fa-gear"></i> Settings
				</a>
			</div>
		</div>
		<div class="error-content">
			<div class="error-icon">
				<i class="fa-solid fa-exclamation-triangle"></i>
			</div>
			<div class="error-code">404</div>
			<div class="error-title">Page Not Found</div>
			<div class="error-message">
				Oops! The page you're looking for seems to have wandered off. Don't worry, you can always find your way back home.
			</div>
			<a href="index.html" class="home-button">
				<i class="fa-solid fa-home"></i> Go Home
			</a>
		</div>
		<script src="js/main.js" defer></script>
		<!-- Welcome Back Overlay -->
		<div id="welcomeBackOverlay" class="welcome-back-overlay">
			<div class="welcome-back-content">
				<div class="welcome-back-icon">
					<i class="fa-solid fa-hand-wave"></i>
				</div>
				<div class="welcome-back-title" id="welcomeBackTitle">Welcome Back!</div>
				<div class="welcome-back-message" id="welcomeBackMessage">Great to see you again!</div>
			</div>
		</div>
		<script>
			// Slide-in animation function (optional, if you want to use it)
			function triggerSlideInAnimations() {
				const slideElements = document.querySelectorAll('.slide-in-element');
				slideElements.forEach((element, index) => {
					setTimeout(() => {
						element.classList.add('animate');
					}, index * 200); // Stagger the animations by 200ms each
				});
			}

			// Welcome back overlay functionality
			function checkWelcomeBack() {
				const lastVisit = localStorage.getItem('lastVisit');
				const currentTime = Date.now();
				const userName = localStorage.getItem('userName');
				if (userName && lastVisit && (currentTime - parseInt(lastVisit)) > 30000) {
					showWelcomeBackOverlay();
				}
			}
			function trackSiteLeave() {
				localStorage.setItem('lastVisit', Date.now().toString());
			}
			window.addEventListener('beforeunload', trackSiteLeave);
			window.addEventListener('pagehide', trackSiteLeave);
			function showWelcomeBackOverlay() {
				const overlay = document.getElementById('welcomeBackOverlay');
				const title = document.getElementById('welcomeBackTitle');
				const message = document.getElementById('welcomeBackMessage');
				const userName = localStorage.getItem('userName');
				title.textContent = `Welcome Back, ${userName}!`;
				message.textContent = 'Great to see you again!';
				overlay.classList.add('show');
				setTimeout(() => {
					overlay.classList.remove('show');
				}, 3000);
			}
			document.addEventListener('DOMContentLoaded', () => {
				setTimeout(() => {
					checkWelcomeBack();
				}, 100);
			});
		</script>
	</body>
</html>
